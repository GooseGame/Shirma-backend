RewriteEngine On

# Запрещаем доступ ко всему, КРОМЕ index.php
RewriteCond %{REQUEST_URI} !^/index\.php
RewriteRule ^ - [F,L]

# Перенаправляем все запросы на index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Дополнительная защита
<FilesMatch "^\.">        # Блокируем скрытые файлы (.env, .gitignore)
    Require all denied
</FilesMatch>

<FilesMatch "\.(php|log|json)$">
    Require all denied     # Блокируем все PHP/JSON-файлы, кроме index.php
</FilesMatch>

<Files "index.php">
    Require all granted    # Разрешаем только index.php
</Files>